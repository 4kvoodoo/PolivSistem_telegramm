# Система полива на ESP8266 и телеграмм
* [Описание проекта](#chapter-0)
* [Начало работы](#chapter-1)
* [Старт программы](#chapter-2)

<a id="chapter-0"></a>
## Описание проекта
Система автополива растений станет вашей опорой. С ней вы можете покинуть дом на долгое время и не переживать, что ваши любимые цветы завянут. В любом месте мира, при наличии Telegram и интернета, вы сможете полить свои цветы.

Проект нацелен на максимально удобное управление при минимальном бюджете.


### Железо
- Проект сделан на основе микроконтроллера ESP8266 Wemos D1 Mini (но можно использовать любую другую плату ESP8266, если вы разберётесь с её питанием).

- Для проекта также потребуется погружной насос на 5 вольт и шланг к нему (при покупке шланга обратите внимание на его диаметр).

- Также нам понадобится любой MOSFET-транзистор (разные виды могут подключаться по-разному). Не стоит брать слишком мощный транзистор, так как даже самый сильный насос и ESP8266 суммарно потребляют меньше 5 Вт/ч.

- Источник питания может быть любым, главное, чтобы напряжение блока питания и насоса совпадали (на некоторых ESP8266 есть выходы как 5 В, так и 3.3 В, поэтому убедитесь в правильно подобранном источнике питания или понизьте напряжение до нужного).
## Корпус
- Корпуса может не быть.

- Или его можно поместить в самую маленькую коробочку.

- Или напечатать на 3D-принтере (так как мы решили дать пользователям полную свободу действий и подбора материалов, файл с моделью у каждого должен быть свой).

<a id="chapter-1"></a>
## Начало работы
### Схема
![SCHEME](Pictures/wemos.png)
Для начала работы подключите подходящий MOSFET-транзистор к GPIO 5 (на Wemos D1 Mini это порт D1) вашей ESP8266. Обратите внимание на то, чтобы источник питания мог выделить нужную мощность (источник питания может быть любым), а также насос потреблял ровно 5 В.
### Библиотеки
Для начала установите все зависимости.
- [SimplePortal](https://github.com/GyverLibs/SimplePortal?ysclid=mjvpuq13rq570425773)
- [NTPClient](https://github.com/arduino-libraries/NTPClient?ysclid=mjvqa1kgtx922965074)
- [FileData](https://github.com/GyverLibs/FileData?ysclid=mjvpvotjyn12142490)
- [FastBot](https://github.com/GyverLibs/FastBot?ysclid=mjvpsrm3y9666586321)

<a id="chapter-2"></a>
## Старт программы
- Зайдите в файл telegram_bot/telegram_bot.ino
- Подставте [свой токен](https://www.cossa.ru/instahero/321374/?ysclid=mjvx61s1f9142058127) в строку `#define BOT_TOKEN ""`
- Начните прошивать ESP8266

### Подключение к Wi-Fi
При первом включении микроконтроллер нужно подключить к Интернету. 
В будущем он будет подключаться к нему сам, если, конечно, найдет поблизости ранее заданную точку доступа Wi-Fi.

